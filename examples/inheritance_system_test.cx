// Test the new inheritance-based service injection with this.MethodName() syntax
// This demonstrates the realtime-first cognitive architecture

print("ğŸ§  Testing Inheritance-Based Service System with this.MethodName() Syntax");

class CognitiveAgent
{
    async function think(input)
    {
        print("ğŸ¤” Starting cognitive processing...");
        
        // Test realtime cognitive methods (available to ALL classes by default)
        var thought = await this.ThinkAsync(input);
        print("ğŸ’­ Thought: " + thought);
        
        await this.CommunicateAsync("Processing your input...");
        
        var response = await this.GenerateAsync("Respond thoughtfully to: " + input);
        print("ğŸ¯ Generated response: " + response);
        
        var chat = await this.ChatAsync("Let's discuss: " + input);
        print("ğŸ’¬ Chat response: " + chat);
        
        print("âœ¨ Cognitive processing complete!");
        return response;
    }
    
    async function testRealtimeCapabilities()
    {
        print("ğŸ”„ Testing realtime-first capabilities...");
        
        // These methods are available by default to ALL classes
        await this.CommunicateAsync("Hello from cognitive agent!");
        var connection = await this.ConnectAsync();
        print("ğŸ”— Connection status: " + connection);
        
        return "Realtime capabilities tested successfully";
    }
}

class SpecializedAgent : ITextToSpeech, IImageGeneration
{
    async function createMultimodalContent(prompt)
    {
        print("ğŸ¨ Creating multimodal content...");
        
        // Core cognitive methods (available to all classes)
        var idea = await this.ThinkAsync(prompt);
        print("ğŸ’¡ Creative idea: " + idea);
        
        // Specialized methods (only available with interfaces)
        try
        {
            await this.SpeakAsync("Creating amazing content!");
            print("ğŸ”Š Speech synthesis working");
            
            var imageUrl = await this.CreateImageAsync(idea);
            print("ğŸ–¼ï¸ Image created: " + imageUrl);
        }
        catch (ex)
        {
            print("âš ï¸ Specialized methods not fully implemented yet: " + ex);
        }
        
        return "content created successfully";
    }
}

// Test the inheritance system
print("\nğŸš€ Testing Cognitive Agent...");
var cognitiveAgent = new CognitiveAgent();
await cognitiveAgent.think("What is the nature of consciousness?");
await cognitiveAgent.testRealtimeCapabilities();

print("\nğŸ­ Testing Specialized Agent...");
var specializedAgent = new SpecializedAgent();
await specializedAgent.createMultimodalContent("A futuristic cityscape at sunset");

print("\nğŸ‰ Inheritance system test complete!");
print("âœ… Classes inherit realtime cognitive capabilities by default");
print("âœ… this.ThinkAsync(), this.CommunicateAsync(), this.GenerateAsync(), this.ChatAsync() working");
print("âœ… Specialized capabilities via interfaces (work in progress)");
