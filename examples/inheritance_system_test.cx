// Test the new inheritance-based service injection with this.MethodName() syntax
// This demonstrates the realtime-first cognitive architecture

print("🧠 Testing Inheritance-Based Service System with this.MethodName() Syntax");

class CognitiveAgent
{
    async function think(input)
    {
        print("🤔 Starting cognitive processing...");
        
        // Test realtime cognitive methods (available to ALL classes by default)
        var thought = await this.ThinkAsync(input);
        print("💭 Thought: " + thought);
        
        await this.CommunicateAsync("Processing your input...");
        
        var response = await this.GenerateAsync("Respond thoughtfully to: " + input);
        print("🎯 Generated response: " + response);
        
        var chat = await this.ChatAsync("Let's discuss: " + input);
        print("💬 Chat response: " + chat);
        
        print("✨ Cognitive processing complete!");
        return response;
    }
    
    async function testRealtimeCapabilities()
    {
        print("🔄 Testing realtime-first capabilities...");
        
        // These methods are available by default to ALL classes
        await this.CommunicateAsync("Hello from cognitive agent!");
        var connection = await this.ConnectAsync();
        print("🔗 Connection status: " + connection);
        
        return "Realtime capabilities tested successfully";
    }
}

class SpecializedAgent : ITextToSpeech, IImageGeneration
{
    async function createMultimodalContent(prompt)
    {
        print("🎨 Creating multimodal content...");
        
        // Core cognitive methods (available to all classes)
        var idea = await this.ThinkAsync(prompt);
        print("💡 Creative idea: " + idea);
        
        // Specialized methods (only available with interfaces)
        try
        {
            await this.SpeakAsync("Creating amazing content!");
            print("🔊 Speech synthesis working");
            
            var imageUrl = await this.CreateImageAsync(idea);
            print("🖼️ Image created: " + imageUrl);
        }
        catch (ex)
        {
            print("⚠️ Specialized methods not fully implemented yet: " + ex);
        }
        
        return "content created successfully";
    }
}

// Test the inheritance system
print("\n🚀 Testing Cognitive Agent...");
var cognitiveAgent = new CognitiveAgent();
await cognitiveAgent.think("What is the nature of consciousness?");
await cognitiveAgent.testRealtimeCapabilities();

print("\n🎭 Testing Specialized Agent...");
var specializedAgent = new SpecializedAgent();
await specializedAgent.createMultimodalContent("A futuristic cityscape at sunset");

print("\n🎉 Inheritance system test complete!");
print("✅ Classes inherit realtime cognitive capabilities by default");
print("✅ this.ThinkAsync(), this.CommunicateAsync(), this.GenerateAsync(), this.ChatAsync() working");
print("✅ Specialized capabilities via interfaces (work in progress)");
