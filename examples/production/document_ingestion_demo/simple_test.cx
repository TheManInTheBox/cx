///
/// Simple Document Ingestion Test
/// Tests the basic functionality of the document ingestion service
///

conscious DocumentIngestionTest {
    realize(self: object) {
        emit system.console.write {
            text: "üß™ Testing Document Ingestion Service\n"
        };
        
        // Test single document ingestion
        emit document.ingest {
            path: "examples/production/document_ingestion_demo/sample_documents/ai_consciousness.txt"
        };
    }
    
    on document.vector.complete (event) {
        emit system.console.write {
            text: "‚úÖ Test completed successfully!\n"
        };
        
        emit system.console.write {
            text: "Document: " + event.filePath + "\n"
        };
        
        emit system.console.write {
            text: "Vectors created: " + event.vectorCount + "\n"
        };
    }
    
    on document.ingest.error (event) {
        emit system.console.write {
            text: "‚ùå Test failed: " + event.error + "\n"
        };
    }
}

// Initialize test
emit test.start {};

emit system.console.write {
    text: "Starting document ingestion test...\n"
};
