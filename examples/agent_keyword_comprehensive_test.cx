// Agent Keyword Test - Testing the 'agent' keyword vs 'new' keyword
// This demonstrates CX's first-class support for autonomous agents

print("ğŸ¤– Agent Keyword Test Starting");
print("===============================");

class TestBot
{
    name: string;
    type: string;
    
    constructor(botName)
    {
        this.name = botName;
        this.type = "autonomous-agent";
    }
    
    on system.ready (payload)
    {
        print("ğŸ¯ " + this.name + " received system ready: " + payload.message);
    }
}

class RegularClass
{
    name: string;
    type: string;
    
    constructor(className)
    {
        this.name = className;
        this.type = "regular-object";
    }
}

try
{
    print("");
    print("ğŸ—ï¸  Creating Objects with 'new' keyword:");
    var obj1 = new RegularClass("StandardObject");
    var obj2 = new TestBot("RegularBot");
    print("âœ… Created regular object: " + obj1.name + " (" + obj1.type + ")");
    print("âœ… Created regular TestBot: " + obj2.name + " (" + obj2.type + ")");
    
    print("");
    print("ğŸ¤– Creating Agents with 'agent' keyword:");
    var agent1 = agent TestBot("AutonomousBot1");
    var agent2 = agent TestBot("AutonomousBot2");
    print("âœ… Created autonomous agent: " + agent1.name + " (" + agent1.type + ")");
    print("âœ… Created autonomous agent: " + agent2.name + " (" + agent2.type + ")");
    
    print("");
    print("ğŸ“Š System Statistics:");
    var stats = GetNamespacedBusStatistics();
    print("Event bus agents: " + stats.TotalAgents);
    
    print("");
    print("ğŸ“¡ Testing Agent Event Reception:");
    emit system.ready, { message: "System initialization complete" };
    
    print("");
    print("ğŸ† Agent Keyword Test Complete!");
    print("âœ… 'agent' keyword creates autonomous agents");
    print("âœ… 'new' keyword creates regular objects");
    print("âœ… Autonomous agents auto-register for events");
    print("âœ… CX Language: First-class agent support!");
}
catch (error)
{
    print("âŒ Error in Agent Keyword Test: " + error);
}
