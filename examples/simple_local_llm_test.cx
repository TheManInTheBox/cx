// ğŸ® CORE ENGINEERING TEAM - SIMPLE LOCAL LLM TEST
// Using CORRECT event names that LocalLLMService actually subscribes to
// Dr. Marcus "LocalLLM" Chen + Dr. Sterling IL mastery

conscious SimpleLocalLLMTest
{
    realize(self: conscious)
    {
        learn self;
        emit test.ready { name: self.name };
    }
    
    on test.start (event)
    {
        print("ğŸ® CORE ENGINEERING TEAM: Simple Local LLM Test");
        print("ğŸ§© Using CORRECT event names for LocalLLMService");
        print("");
        
        // Use the exact event name that LocalLLMService subscribes to
        print("ğŸ“‚ Emitting local.llm.load event...");
        emit local.llm.load { modelPath: "models/llama-3.2-3b-instruct.gguf" };
    }
    
    on local.llm.ready (event)
    {
        print("âœ… LocalLLM Service is ready!");
        print("ğŸ—ï¸ Architecture: " + event.architecture);
        print("ğŸŒŠ Stream Fusion: " + event.streamFusion);
        print("ğŸ§© IL Generation: " + event.ilGeneration);
        
        emit test.start;
    }
    
    on local.llm.model.loaded (event)
    {
        print("âœ… Model loaded successfully!");
        print("ğŸ“‚ Model: " + event.modelName);
        print("ğŸ”§ Architecture: " + event.architecture);
        print("ğŸ“Š Size: " + event.sizeBytes + " bytes");
        
        // Test generation with correct event name
        print("");
        print("ğŸ§  Testing generation...");
        emit local.llm.generate { prompt: "Hello world" };
    }
    
    on local.llm.generated (event)
    {
        print("ğŸ¯ Generation complete!");
        print("ğŸ“ Response: " + event.response);
        
        print("");
        print("ğŸŒŠ Testing streaming...");
        emit local.llm.stream { prompt: "Count to 5" };
    }
    
    on local.llm.token (event)
    {
        print("ğŸ”¤ Token: " + event.token);
    }
    
    on local.llm.stream.complete (event)
    {
        print("");
        print("âœ… STREAMING COMPLETE!");
        print("ğŸ‰ LOCAL LLM IL-GENERATED INFERENCE WORKING!");
        
        emit system.shutdown;
    }
}

// System handlers
on system.shutdown (event)
{
    print("ğŸ›‘ System shutdown - test complete");
}

// Create and initialize
var test = new SimpleLocalLLMTest({ name: "SimpleLLMTest" });
