// Minimal test for instance event handler casting issue

class TestAgent
{
    name: string;
    
    constructor(agentName: string)
    {
        this.name = agentName;
        print("Agent created: " + this.name);
    }
    
    // Simple event handler that only prints the event name
    on user.test (event)
    {
        print("Event received: " + event.name);
    }
}

// Create instance and test
var agent = new TestAgent("TestBot");
emit user.test, { message: "hello" };
