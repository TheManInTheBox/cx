// Simple test to isolate the indexOf issue

print("🔍 Testing string indexOf method...");

class TestAgent
{
    name: string = "Alice";
    
    constructor()
    {
        print("TestAgent created");
    }
    
    function testStringMethod()
    {
        var testString = "Hello Alice World";
        print("Test string: " + testString);
        print("Looking for: " + this.name);
        
        // This should work if string methods are properly handled
        var result = testString.indexOf(this.name);
        print("Result: " + result);
        
        if (result >= 0)
        {
            print("✅ Found name in string at position: " + result);
        }
        else
        {
            print("❌ Name not found in string");
        }
    }
    
    on test.start (event)
    {
        print("Event handler called");
        this.testStringMethod();
    }
}

var agent = new TestAgent();
print("🚀 Emitting test event...");
emit test.start { message: "start test" };
