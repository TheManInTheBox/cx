// ğŸ§ª SIMPLE ARRAY LENGTH TEST
// Test basic array.length access without complex boolean conditions

print("ğŸ§ª Simple Array Length Test Starting...\n");

// Global event handler to test array access
on command.executed (payload) 
{
    print("ğŸ“Š Testing array access:");
    print("   Agent: " + payload.agent);
    print("   Command: " + payload.command);
    
    // Test basic array access without complex boolean conditions
    var outputs = payload.outputs;
    print("   Outputs type: " + typeof(outputs));
    
    // Test array length access directly
    var outputLength = outputs.length;
    print("   Output length: " + outputLength);
    
    // Test simple condition
    if (outputLength > 0) 
    {
        print("   âœ… Found " + outputLength + " output items");
    }
    else 
    {
        print("   â„¹ï¸ No output items found");
    }
    
    // Test errors array
    var errors = payload.errors;
    var errorLength = errors.length;
    print("   Error length: " + errorLength);
    
    if (errorLength > 0) 
    {
        print("   âŒ Found " + errorLength + " error items");
    }
    else 
    {
        print("   âœ… No errors found");
    }
    
    print("   ---");
}

// Simple agent for testing
class SimpleAgent 
{
    name: string;
    
    constructor(agentName) 
    {
        this.name = agentName;
        print("ğŸ¤– Simple Agent " + agentName + " created for array testing");
    }
    
    function testCommand() 
    {
        print("ğŸ”¬ Testing PowerShell command execution");
        this.Execute("Get-Date");
        print("   Command dispatched for testing...");
    }
}

// Create and test
var testAgent = new SimpleAgent("ArrayTest-Agent");
testAgent.testCommand();

print("\nğŸ§ª Array access test initiated. Waiting for results...");
