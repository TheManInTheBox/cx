// âœ… PRODUCTION-READY: Testing CustomChatClient with Microsoft.Extensions.AI integration
// This demonstrates the successful Microsoft.Extensions.AI interface implementation

object ChatClientTestAgent
{
    realize(self: object)
    {
        learn self;
        emit agent.ready { name: self.name };
    }
    
    on agent.ready (event)
    {
        print("ðŸ¤– ChatClient Test Agent initialized: " + event.name);
        
        // Test the custom chat client through the AI service layer
        think { 
            prompt: "Test message to verify CustomChatClient integration with Microsoft.Extensions.AI",
            handlers: [ test.complete ]
        };
    }
    
    on test.complete (event)
    {
        print("âœ… CustomChatClient test successful!");
        print("Response: " + event.result);
        
        // Test embedding service integration
        search {
            query: "Test embedding generation with CustomEmbeddingGenerator",
            handlers: [ search.complete ]
        };
    }
    
    on search.complete (event)
    {
        print("âœ… CustomEmbeddingGenerator test successful!");
        print("Search results count: " + event.results.length);
        
        emit test.finished { success: true };
    }
    
    on test.finished (event)
    {
        print("ðŸŽ‰ All Microsoft.Extensions.AI integration tests complete!");
        print("Success: " + event.success);
    }
}

// Create and run the test
var testAgent = new ChatClientTestAgent({ name: "ChatClientTester" });

print("ðŸš€ Starting CustomChatClient Microsoft.Extensions.AI integration test...");
