
/* Global scope is limited to the first few lines
 * of the script.
 *
 * A global scope is force by inserting the
 * compound operator before generating icode, and
 * inserting a call to main() after global scope is left.
 *
 * Kind of sloppy, but works. The only limitation is
 * globals must be at the top of the script file.
 * Maybe good for forcing global code organization??
 *
 * time to finish other statements and types :)
 *
 */


/* Cx standard math functions.
 *
 */

int int_sqrt(int num) {
    int res = 0;
    int bit = 1 << 14; // The second-to-top bit is set: 1L<<30 for long

    // "bit" starts at the highest power of four <= the argument.
    while (bit > num)
        bit >>= 2;

    while (bit != 0) {
        if (num >= res + bit) {
            num -= res + bit;
            res = (res >> 1) + bit;
        }else{
            res >>= 1;
        }

        bit >>= 2;
    }

    return res;
}

int main(){
    int array[10];
    int i = 0;
    int root = 4096 * 2;

	int *int_pointer = &root;

    while(i < 10) {

        // store sqrt in array to be sorted
        array[i] = int_sqrt(root);
        root /= i++;
    }

    return root;
}