// Simple test to debug handlers payload
class TestAgent
{
    function test()
    {
        learn, { 
            content: "test data",
            handlers: [ any.complete ]
        };
    }
}

on any.complete (payload)
{
    print("Event received!");
    print("Event name: " + payload.name);
    
    // Check what properties are available in the nested payload
    for (var prop in payload.payload)
    {
        print("Property: " + prop.Key + " = " + prop.Value);
        if (prop.Key == "content")
        {
            print("Found content: " + prop.Value);
        }
    }
}

on ai.learn.request (payload)
{
    print("AI learn request received!");
    for (var prop in payload.payload)
    {
        print("AI Property: " + prop.Key + " = " + prop.Value);
    }
}

var agent = new TestAgent();
agent.test();
