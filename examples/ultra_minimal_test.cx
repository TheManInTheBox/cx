// Ultra-minimal test for instance event handler casting issue

class TestAgent
{
    constructor()
    {
        print("Agent created");
    }
    
    // Ultra-simple event handler that only prints a literal string
    on user.test (event)
    {
        print("Handler called");
    }
}

// Create instance and test
var agent = new TestAgent();
emit user.test, { message: "hello" };
