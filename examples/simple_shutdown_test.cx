// Simple test to verify system.shutdown event handling
object ShutdownTestAgent
{
    realize()
    {
        print("🧠 ShutdownTestAgent initialized");
        emit agent.ready;
    }
    
    on agent.ready (event)
    {
        print("✅ Agent ready - will shutdown in 2 seconds");
        emit agent.delayed.shutdown;
    }
    
    on agent.delayed.shutdown (event)
    {
        print("⏰ Initiating delayed shutdown");
        emit system.shutdown { reason: "Delayed shutdown test completed successfully" };
    }
}

var testAgent = new ShutdownTestAgent();

on system.start (event)
{
    print("🚀 Starting shutdown test");
}

on system.shutdown (event)
{
    print("🔌 System shutting down: " + event.reason);
}
