// Minimal test to isolate the await-inside-async issue

print("ğŸ”¬ Minimal await-inside-async test");

class TestAgent
{
    async function simpleAwaitTest()
    {
        print("Before internal await");
        var result = await this.ThinkAsync("hello");  // â† This line causes InvalidProgramException
        print("After internal await");
        return result;
    }
}

print("Creating agent...");
var agent = new TestAgent();

print("Testing...");
var result = await agent.simpleAwaitTest();

print("Done: " + result);
